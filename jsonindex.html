<!DOCTYPE html>
<html>
<head> 
  <title>JSONSIVUT</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="jsonstyle.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>

<!-- Navigaatio -->
   <nav class="navbar navbar-expand-sm navbar-custom ">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link active" href="#">Etusivu Tehtävä 1</a></li>
        <li class="nav-item"><a class="nav-link" href="#teh1">tehtävä 1.2</a></li>
        <li class="nav-item"><a class="nav-link" href="#teh2">tehtävä 2 </a></li>
        <li class="nav-item"><a class="nav-link" href="#teh2">tehtävä 2.2. </a></li>
        <li class="nav-item"><a class="nav-link" href="#teh3">tehtävä 3 </a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- otsikko -->
<h1>Jullen jsonjuttu</h1>

<script>
//Tähän kirjoita oman JSON tietueesi URL

fetch('TÄHÄN TIETUE')


// Muunnetaan vastaus JSON muotoon

.then(function (response) {

return response.json();

})
//Käsitellään muunnettu (eli JSON muotoinen) vastaus

.then(function (responseJson) {

// Kutsutaan funktiota ja välitetään sille json-vastaus

kerro(responseJson);

})


// Jos tuli jokin virhe

.catch(function (error) {

document.getElementById("vastaus").innerHTML = "<p>Tietoa ei pystytä hakemaan</p>";
})

function kerro(obj) {
let tiedot = "<h1>" + obj.otsikko + "</h1><br>" + obj.kuvaus + "<br><hr>"
+ "<p><img src=" + obj.kuva + "></p>"
+ "<h3>" + "Opintojakso" + "</h3>" + "Nimi: " + obj.opintojakso.nimi + "<br>"

tiedot += "<p><h3> Aiheet </h3>";
for (var i = 0; i < obj.tekniikat.length; i++) {
    tiedot += "<b>Aihe: " + obj.tekniikat[i].aihe + "</b>";
    tiedot += " <a href=" + obj.tekniikat[i].linkki + ">" + obj.tekniikat[i].linkki + "</a>" + "<br>";
    tiedot += "</p>";
    document.getElementById("vastaus").innerHTML= tiedot;
}}
<div id="vastaus"></div>
</script>
</body>

</html>